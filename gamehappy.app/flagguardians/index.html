<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>Flag Guardians</title>
    <link rel="stylesheet" href="css/style.css?v=20260111">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;400;600;700&display=swap" rel="stylesheet">
    <!-- Socket.IO Client -->
    <script src="https://cdn.socket.io/4.5.4/socket.io.min.js"></script>
</head>
<body>
    <div class="container">
        
        <!-- HOME SCREEN -->
        <div id="screen-home" class="screen">
            <div class="logo">
                <h1>FLAG</h1>
                <h2>GUARDIANS</h2>
            </div>
            <div class="tagline">Defend Your Territory. Capture the Opposition.</div>
            <div class="button-group">
                <button id="btn-create" class="btn btn-primary">Create Game</button>
                <button id="btn-join" class="btn btn-secondary">Join Game</button>
            </div>
        </div>

        <!-- CREATE SCREEN -->
        <div id="screen-create" class="screen" style="display: none;">
            <button class="btn-back" onclick="game.showScreen('home')">&larr; Back</button>
            <div class="screen-content">
                <h2>Create Game</h2>
                <p class="subtitle">Enter your name to start a new game</p>
                <div class="form-group">
                    <input type="text" id="create-name-input" placeholder="Enter your name" maxlength="20">
                </div>
                <button id="btn-create-game" class="btn btn-primary">Create Game</button>
            </div>
        </div>

        <!-- JOIN SCREEN -->
        <div id="screen-join" class="screen" style="display: none;">
            <button class="btn-back" onclick="game.showScreen('home')">&larr; Back</button>
            <div class="screen-content">
                <h2>Join Game</h2>
                <p class="subtitle">Enter game code and your name</p>
                <div class="form-group">
                    <input type="text" id="join-code-input" placeholder="Game Code (4 chars)" maxlength="4" style="text-transform: uppercase;">
                </div>
                <div class="form-group">
                    <input type="text" id="join-name-input" placeholder="Enter your name" maxlength="20">
                </div>
                <button id="btn-join-game" class="btn btn-primary">Join Game</button>
            </div>
        </div>

        <!-- LOBBY SCREEN -->
        <div id="screen-lobby" class="screen" style="display: none;">
            <div class="lobby-header">
                <h2>Game Lobby</h2>
                <div class="game-code">Code: <strong id="lobby-code">----</strong></div>
            </div>

            <div class="teams-container">
                <!-- Red Team -->
                <div class="team-section red-team">
                    <h3>ðŸ”´ Red Team</h3>
                    <div id="red-team" class="team-list"></div>
                    <button id="btn-select-red" class="btn btn-team-red">Join Red Team</button>
                </div>

                <!-- Blue Team -->
                <div class="team-section blue-team">
                    <h3>ðŸ”µ Blue Team</h3>
                    <div id="blue-team" class="team-list"></div>
                    <button id="btn-select-blue" class="btn btn-team-blue">Join Blue Team</button>
                </div>
            </div>

            <div class="lobby-controls">
                <button id="btn-start-game" class="btn btn-primary">Start Game</button>
                <button id="btn-leave" class="btn btn-secondary">Leave Game</button>
            </div>
        </div>

        <!-- FLAG PLACEMENT SCREEN -->
        <div id="screen-flag-placement" class="screen" style="display: none;">
            <div class="flag-placement-header">
                <h2>Place Your Flag</h2>
                <p id="placement-instruction">Select a house to place your flag</p>
            </div>

            <div class="houses-grid" id="houses-grid"></div>

            <div class="house-interior" id="house-interior"></div>

            <div class="placement-confirm">
                <p id="confirm-flag-text">Select a location</p>
                <button id="btn-confirm-flag" class="btn btn-primary">Confirm Placement</button>
            </div>
        </div>

        <!-- GAME SCREEN -->
        <div id="screen-game" class="screen" style="display: none;">
            <div class="game-header">
                <div class="team-info red">Red: <span id="red-score-display">0</span></div>
                <div class="round-info">Round <span id="round-display">1</span></div>
                <div class="team-info blue">Blue: <span id="blue-score-display">0</span></div>
            </div>

            <div class="game-content">
                <div id="game-map" class="game-map"></div>
                
                <div class="game-log-container">
                    <h4>Game Log</h4>
                    <div id="game-log" class="game-log"></div>
                </div>

                <div class="player-status">
                    <p>Your Position: <span id="player-pos">Calculating...</span></p>
                    <p>Your Team: <span id="team-display">---</span></p>
                </div>
            </div>

            <div class="game-footer">
                <button id="btn-leave-game" class="btn btn-secondary" onclick="game.leaveGame()">Leave Game</button>
            </div>
        </div>

        <!-- BUILDING INTERIOR SCREEN -->
        <div id="screen-building" class="screen" style="display: none;">
            <div class="building-header">
                <h2 id="building-name">Building</h2>
                <button id="btn-next-floor" class="btn btn-small">Next Floor</button>
                <button id="btn-prev-floor" class="btn btn-small">Prev Floor</button>
            </div>

            <div id="building-interior" class="building-interior"></div>

            <div class="building-footer">
                <button id="btn-exit-building" class="btn btn-secondary">Exit Building</button>
            </div>
        </div>

    </div>

    <script src="js/game.js"></script>
</body>
</html>
